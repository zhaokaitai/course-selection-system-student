{"version":3,"sources":["webpack:///E:/study/uni_app/chooseCourse/components/ly-curriculumtable/ly-curriculumtable.vue?efc4","webpack:///E:/study/uni_app/chooseCourse/components/ly-curriculumtable/ly-curriculumtable.vue?37bd","webpack:///E:/study/uni_app/chooseCourse/components/ly-curriculumtable/ly-curriculumtable.vue?de9a","webpack:///E:/study/uni_app/chooseCourse/components/ly-curriculumtable/ly-curriculumtable.vue?64c1","uni-app:///components/ly-curriculumtable/ly-curriculumtable.vue","webpack:///E:/study/uni_app/chooseCourse/components/ly-curriculumtable/ly-curriculumtable.vue?2439","webpack:///E:/study/uni_app/chooseCourse/components/ly-curriculumtable/ly-curriculumtable.vue?c98e"],"names":["name","props","controlWeek","type","default","weekTableNumber","weekTableState","timetableType","week","timetables","index","palette","startdDate","weekButton","data","allPalette","nowWeek","weekCurrent","weeky","weekvalue","weekNumberList","dateLi","dateDetailsLi","date","datetAndMonth","barHeight","dMonth","tMonth","tMonthweeky","frontDate","afterDate","created","text","value","computed","courseData","paletteIndex","listMerge","list","length","backgroundColor","sameIndex","todayWeekIndex","weekIndex","console","methods","handleCourseClick","lastWeek","uni","nextWeek","weekOpen","selectWeek","GetTime","dateDetails","getWeek","today","tDate","getfun_date","date1","date2","getDateDays","watch","handler","deep"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2I;AAC3I;AACsE;AACL;AACsC;;;AAGvG;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,yGAAM;AACR,EAAE,kHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAA+mB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCkEnoB;EACAA;EACAC;IACAC;MAAA;MACAC;MACAC;IACA;IACAC;MAAA;MACAF;MACAC;IACA;IACAE;MAAA;MACAH;MACAC;QACA;MACA;IACA;IACAG;MACAJ;MACAC;QACA,SAEA;MACA;IACA;IACAI;MACAL;MACAC;QACA;MACA;IACA;IACAK;MACAN;MACAC;QACA;UAAAM;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA,GACA;UAAAU;UAAAV;QAAA;MACA;IACA;IACAW;MACAR;MACAC;QACA;MACA;IACA;IACAQ;MACAT;MACAC;QACA;MACA;IACA;IACAS;MACAV;MACAC;QACA;MACA;IACA;EACA;EACAU;IACA;MACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACA;MACAC;MAAA;MACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IAEA;EACA;EACAC;IACA;IACA;IACA;IACA;MACA;QACAC;QACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEA;EACAC;IACAC;MAAA;MACA;MACA;MACA;QACA;QACAC;QACA;UACAA;QACA;QACA;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;QACAC;UACA;YACA;cAAAtC;cAAAuC;cAAAC;YAAA;UACA;UACA;YACA;YACA;cACAH;cACA;gBAAArC;gBAAAuC;gBAAAE;cAAA;YACA;YACAJ;YACA;cAAArC;cAAAuC;cAAAE;YAAA;UACA;YACA;cAAAzC;cAAAuC;cAAAC;YAAA;UACA;QACA;MACA;MACA;IAEA;IACAE;MACA;MACA;QACAC;MACA;MACAC;MACA;IACA;EACA;EACAC;IAEAC;MACA;QACApC;QACA6B;QACA/B;QACAmC;QACA3C;MACA;MACA;MACA;MACA;IACA;IACA;IACA+C;MACA;QACA;QACAC;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MAEA;MACA;MACA;;MAEA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;MACA;IAEA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA7B;QACA;MACA;QACAA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAb;MACA;QACAA;MACA;MACA;QACA2C;QACA;UACAvC;UACA;QACA;UACAA;QACA;QACA;QACA;MACA;MACA;MACA;QACA;UACAuC;UACA;YACAvC;YACA;UACA;YACAA;UACA;UACA;UACA;QACA;MACA;;MAEA;MACA;MACA;IACA;IACA;IACAwC;MACA;MACA;QACAC;MACA;QACAA;MACA;MACA;MACA;MACAA;MACA;MACA;MACA;MACA5B;MACA6B;MACA;QACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MAEA;MACA;QACAC;MACA;QACAA;MAEA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA7C;MACA8C;QACA;QACA;MACA;MACAC;IACA;EACA;AAGA;AAAA,4B;;;;;;;;;;;;;ACtZA;AAAA;AAAA;AAAA;AAAkrC,CAAgB,moCAAG,EAAC,C;;;;;;;;;;;ACAtsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ly-curriculumtable/ly-curriculumtable.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ly-curriculumtable.vue?vue&type=template&id=8752c038&scoped=true&\"\nvar renderjs\nimport script from \"./ly-curriculumtable.vue?vue&type=script&lang=js&\"\nexport * from \"./ly-curriculumtable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ly-curriculumtable.vue?vue&type=style&index=0&id=8752c038&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8752c038\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ly-curriculumtable/ly-curriculumtable.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ly-curriculumtable.vue?vue&type=template&id=8752c038&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    lyDataCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"components/ly-data-checkbox/ly-data-checkbox\" */ \"@/components/ly-data-checkbox/ly-data-checkbox.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.courseData, function (week, weekIndex) {\n    var $orig = _vm.__get_orig(week)\n    var l0 = _vm.__map(week, function (course, courseIndex) {\n      var $orig = _vm.__get_orig(course)\n      var g0 = course.length\n      var g1 = g0 == 1 ? course.length : null\n      var g2 = g0 == 1 && g1 > 0 ? course.length : null\n      var g3 = !(g0 == 1) ? course.length : null\n      var g4 = !(g0 == 1) && g3 > 0 ? course.length : null\n      var g5 = !(g0 == 1) && g3 > 0 ? course.length : null\n      return {\n        $orig: $orig,\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n      }\n    })\n    return {\n      $orig: $orig,\n      l0: l0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ly-curriculumtable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ly-curriculumtable.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"timetable\">\r\n\t  <view class=\"cu-bar bg-white text-primary\" v-if=\"weekButton\">\r\n\t  \t<view class=\"action\" @click=\"lastWeek\">\r\n\t  \t\t<text class=\"cuIcon-back\" style=\"margin-right: unset;\"></text>\r\n\t  \t\t<text class=\"text-bold text-lg\">上一周</text>\r\n\t  \t</view>\r\n\t  \t<view class=\"content text-bold\" @click=\"weekOpen\">第{{nowWeek+1}}周<uni-icons type=\"bottom\" size=\"15\"></uni-icons></view>\r\n\t  \t<view class=\"action\" @click=\"nextWeek\">\r\n\t  \t\t<text class=\"text-bold text-lg\">下一周</text>\r\n\t  \t\t<text class=\"cuIcon-right\"></text>\r\n\t  \t</view>\r\n\t  </view>\r\n\t<view class=\"header-wrap\" >\r\n\t\t<view class=\"left-text\">\r\n\t\t\t<text class=\"month-text\">{{tMonth}}<br>月</text>\r\n\t\t\t<view :class=\"weeky==(i)?'text-content-today':'text-content'\" v-for=\"i in 7\" :key=\"i\">\r\n\t\t\t\t\t<text class=\"week-txt\"  :style=\"{ 'color': dMonth === dateDetailsLi[i-1] ? '#FFF' : 'unset', 'background-color': dMonth === dateDetailsLi[i-1] ? '#4070FF' : 'unset' }\">{{ week[i-1]}}</text>\r\n\t\t\t\t\t<text class=\"date-txt\"  :style=\"{ 'color': dMonth === dateDetailsLi[i-1] ? '#FFF' : 'unset','background-color': dMonth === dateDetailsLi[i-1] ? '#4070FF' : 'unset' }\">{{ dateLi[i-1]}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-line></u-line>\r\n\t</view>\r\n    <!-- <view class=\"header\">\r\n     <view class=\"header-item\" v-for=\"(item,index) in week\" :key=\"item\" :style=\"{ color: todayWeekIndex === index ? '#4070FF' : 'unset' }\">{{ item }}</view> \r\n    </view> -->\r\n    <!-- 课件时段 -->\r\n    <view class=\"main\">\r\n      <view class=\"row\" v-for=\"(item,index) in timetableType\" :key=\"index\">\r\n\t\t  <u-line dashed color=\"#E4E7ED\"></u-line>\r\n        <view class=\"time-item\" >\r\n          <view class=\"index\">{{ item.index }}</view>\r\n          <view class=\"time\">{{ item.name }}</view>\r\n        </view>\r\n\t\t<!-- <u-line dashed color=\"#E4E7ED\"></u-line> -->\r\n      </view>\r\n      <!-- 课程内容框 -->\r\n      <view class=\"course-container\">\r\n        <view class=\"week\" v-for=\"(week, weekIndex) in courseData\" :key=\"weekIndex\">\r\n          <view class=\"courseList\" v-for=\"(course, courseIndex) in week\" :key=\"courseIndex\">\r\n\t\t\t  <view v-if=\"course.length==1\">\r\n\t\t\t  \t<view   @click=\"handleCourseClick(course, weekIndex, courseIndex)\" class=\"course\" :style=\"{ height: (course.length * 73 ) + 'px', background: course.backgroundColor,\t'border-color': ''+course.borderColor+'',color: course.borderColor}\" v-if=\"course.length > 0\">{{ course.name }}</view>\r\n\t\t\t  </view> \r\n\t\t\t  <view v-else=\"course.length!=1\">\r\n\t\t\t\t<view   @click=\"handleCourseClick(course, weekIndex, courseIndex)\" class=\"course\" :style=\"{ height: (course.length * 73+ course.length) + 'px', background: course.backgroundColor,\t'border-color': ''+course.borderColor+'',color: course.borderColor}\" v-if=\"course.length > 0\">{{ course.name }}</view>\r\n\t\t\t </view> \r\n\t\t  </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\t<!-- 底部弹出层 显示周数 -->\r\n\t<view>\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<view class=\"bottom\">\r\n\t\t\t\t<h4>点击查看该周课表</h4>\r\n\t\t\t\t<view style=\"margin-left: 80upx; \">\r\n\t\t\t\t\t<ly-data-checkbox mode=\"tag\" @change=\"selectWeek\" v-model=\"weekCurrent\" :localdata=\"weekNumberList\"></ly-data-checkbox>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</uni-popup>\r\n\t</view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'Timetable',\r\n    props: {\r\n\t  controlWeek: {//控制显示第几周\r\n\t  \ttype: [Number, String],\r\n\t  \tdefault: 1\r\n\t  },\r\n\t  weekTableNumber: {//控制底部弹出层显示多少周数值\r\n\t  \ttype: [Number, String],\r\n\t  \tdefault: 1\r\n\t  },\r\n\t  weekTableState:{ //点击第几周是 是否开启底部周表\r\n\t\t type: Boolean,\r\n\t\t default: () => {\r\n\t\t   return false\r\n\t\t }\r\n\t  },\r\n      timetableType: {\r\n        type: Array,\r\n        default: () => {\r\n          return [\r\n           \r\n          ]\r\n        }\r\n      },\r\n      week: {\r\n        type: Array,\r\n        default: () => {\r\n          return ['一', '二', '三', '四', '五', '六', '日']\r\n        }\r\n      },\r\n      timetables: {\r\n        type: Array,\r\n        default: () => {\r\n          return [{ index: '1', name: '08:00\\n08:40' },\r\n\t\t\t\t\t   { index: '2', name: '08:50\\n09:30' },\r\n\t\t\t\t\t   { index: '3', name: '09:40\\n10:20' },\r\n\t\t\t\t\t   { index: '4', name: '10:30\\n11:10' },\r\n\t\t\t\t\t   { index: '5', name: '11:20\\n12:00' },\r\n\t\t\t\t\t   { index: '6', name: '14:00\\n14:40' },\r\n\t\t\t\t\t   { index: '7', name: '15:50\\n16:30' },\r\n\t\t\t\t\t   { index: '8', name: '16:40\\n17:20' },\r\n\t\t\t\t\t   { index: '9', name: '17:30\\n18:10' },\r\n\t\t\t\t\t   { index: '10', name: '19:00\\n19:40' },\r\n\t\t\t\t\t   { index: '11', name: '20:50\\n21:30' },\r\n\t\t\t\t\t   { index: '12', name: '21:40\\n22:20' }]\r\n        }\r\n      },\r\n      palette: {\r\n        type: Array,\r\n        default: () => {\r\n          return []\r\n        }\r\n      },\r\n\t  startdDate: {\r\n\t    type: String,\r\n\t    default: () => {\r\n\t      return \"\"\r\n\t    }\r\n\t  },\r\n\t  weekButton: {\r\n\t    type: Boolean,\r\n\t    default: () => {\r\n\t      return false\r\n\t    }\r\n\t  },\r\n    },\r\n    data () {\r\n      return {\r\n      //borderPalette: [...this.palette, '#fe9d9f', '#91dcfc', '#f4f1d4', '#b0efd3', '#def7f8', '#93f5e0', '#e3e8fb', '#edf3b0', '#bcfbfc', '#efe2f9', '#ffe4a0', '#c9edf1', '#b495e1', '#ffe4a0', '#edffec'],\r\n      allPalette: [...this.palette, '#f05261', '#48a8e4', '#ffd061', '#52db9a', '#70d3e6', '#52db9a', '#3f51b5', '#f3d147', '#4adbc3', '#673ab7', '#ff9800', '#76bfcd', '#673ab7', '#ff9800', '#8bc34a'],\r\n\t  nowWeek: 0, // 当前周数下标 \r\n\t  weekCurrent:1,//当前周数\r\n      weeky: 1,\r\n\t  weekvalue:\"\",//星期几\r\n\t  //weekNumber:0,//一共的周数 \r\n\t  weekNumberList: [],//周数集合\r\n      //week: ['周一','周二','周三','周四','周五','周六','周日'],\r\n      dateLi: [12,13,14,15,16,17,18,2],\r\n\t  dateDetailsLi:[],//具体时间组\r\n\t  date:29,//当前日\r\n\t  datetAndMonth:\"\",\r\n      barHeight: 30,\r\n\t  dMonth:0,//当前月份 格式：08/09\r\n\t  tMonth:0,//左上角月份\r\n\t  tMonthweeky:0,//周期里面的月份\r\n\t  frontDate:0,//当前时间前 共有几天是这一周的下标数\r\n\t  afterDate:0,//当前时间后 共有几天是这一周的下标数\r\n\t  \r\n\t  }\r\n    },\r\n\tcreated() {\r\n\t\t//获取当前日期\r\n\t\tthis.dMonth=this.getWeek(0,\"\",1)\r\n\t\t//this.weekNumber=10;\r\n\t\tfor (let i = 0; i < this.weekTableNumber; i++) {\r\n\t\t\tthis.weekNumberList.push({\r\n\t\t\t\ttext: i+1,\r\n\t\t\t\tvalue: i+1\r\n\t\t\t})\r\n\t\t}\r\n\t\t//开始周日期 如：2022-08-28 通过这个时间计算离当前时间是第几周\r\n\t\t//计算多少天\r\n\t\tthis.nowWeek=this.controlWeek-1\r\n\t\tvar index=this.nowWeek*7\r\n\t\t//得到多少天之后日期\r\n\t\tlet data2=this.getfun_date(index)\r\n\t\t//console.log(\"这是上第\",this.nowWeek+1,\"周\",index,\"天以后\",)\r\n\t\t//得到 data2 这一周的日期\r\n\t\tthis. GetTime(data2)\r\n\t\t\r\n\t},\r\n    computed: {\r\n      courseData () {\r\n        // 为数据标记背景颜色的函数\r\n        let paletteIndex = 0\r\n        const getBackgroundColor = () => {\r\n          const backgroundColor = this.allPalette[paletteIndex]\r\n          paletteIndex++\r\n          if (paletteIndex >= this.allPalette.length) {\r\n            paletteIndex = 0\r\n          }\r\n          return backgroundColor\r\n        }\r\n        // 合并\r\n        const listMerge = []\r\n        this.timetables.forEach(function (list, i) {\r\n          if (!listMerge[i]) {\r\n            listMerge[i] = []\r\n          }\r\n          list.forEach(function (item, index) {\r\n            if (!index) {\r\n              return listMerge[i].push({ name: item, length: 1, backgroundColor: item === '' ? 'none' : getBackgroundColor() })\r\n            }\r\n            if (item === (listMerge[i][index - 1] || {}).name && item) {\r\n              const sameIndex = (listMerge[i][index - 1] || {}).sameIndex\r\n              if (sameIndex || sameIndex === 0) {\r\n                listMerge[i][sameIndex].length++\r\n                return listMerge[i].push({ name: item, length: 0, sameIndex: sameIndex })\r\n              }\r\n              listMerge[i][index - 1].length++\r\n              return listMerge[i].push({ name: item, length: 0, sameIndex: index - 1 })\r\n            } else {\r\n              return listMerge[i].push({ name: item, length: 1,backgroundColor: item === '' ? 'none' : getBackgroundColor() })\r\n            }\r\n          })\r\n        })\r\n        return listMerge\r\n\t\t\r\n      },\r\n      todayWeekIndex () {\r\n        let weekIndex = new Date().getDay() - 1\r\n        if (weekIndex === -1) {\r\n          weekIndex = 6\r\n        }\r\n\t\tconsole.log(weekIndex)\r\n        return weekIndex\r\n      }\r\n    },\r\n    methods: {\r\n\t \r\n      handleCourseClick (course, weekIndex, courseIndex) {\r\n        const data = {\r\n          index: courseIndex + 1,\r\n          length: course.length,\r\n          week: this.week[weekIndex],\r\n          weekIndex: weekIndex,\r\n          name: course.name\r\n        }\r\n        //console.log(`星期${data.week}; 第${data.index}节课; 课程名:${data.name}; 课节:${data.length}`)\r\n        // console.log(data)\r\n        this.$emit('courseClick', data)\r\n      },\r\n\t  //上一周\r\n\t  lastWeek(){\r\n\t\t  if(this.nowWeek==0){\r\n\t\t\t  //console.log(\"已经是第一周了\")\r\n\t\t\t  uni.$u.toast('已经是第一周了') \r\n\t\t\t  return\r\n\t\t  }\r\n\t\t  this.nowWeek-=1\r\n\t\t  var index=this.nowWeek*7\r\n\t\t  let data2=this.getfun_date(index)\r\n\t\t  //console.log(\"这是上第\",this.nowWeek,\"周\",index,\"以后\")\r\n\t\t  this. GetTime(data2)\r\n\t\t  //子组件事件\r\n\t\t  this.$emit('lastWeekClick',this.nowWeek+1)\r\n\t  },\r\n\t  //下一周\r\n\t  nextWeek(){\r\n\t\t  this.nowWeek+=1\r\n\t\t  var index=(this.nowWeek-1)*7\r\n\t\t  let i=this.afterDate+1+index\r\n\t\t  \r\n\t\t  let data2=this.getfun_date(i)\r\n\t\t // console.log(\"这是下第\",this.nowWeek,\"周\",index,i ,\"以后\",\"时间是\",data2)\r\n\t\t  this.GetTime(data2) \r\n\t\t  \r\n\t\t  //子组件事件\r\n\t\t  this.$emit('nextWeekClick', this.nowWeek+1)\r\n\t  },\r\n\t  //点击第几周事件 （显示弹出层）\r\n\t  weekOpen(){\r\n\t\t  this.$emit('weekOpenClick')\r\n\t  \t  if(!this.weekTableState){\r\n\t  \t    return\r\n\t  \t  }\r\n\t      // 通过组件定义的ref调用uni-popup方法 ,如果传入参数 ，type 属性将失效 ，仅支持 ['top','left','bottom','right','center']\r\n\t\t this.$refs.popup.open()\r\n\t\t \r\n\t   },\r\n\t   //底部弹出层  选择周数事件\r\n\t   selectWeek(e){\r\n\t   \t\t // console.log(JSON.stringify(e.detail.value))\r\n\t   \t\t  this.nowWeek=e.detail.value-1\r\n\t   \t\t  var index=this.nowWeek*7\r\n\t   \t\t  let data2=this.getfun_date(index)\r\n\t   \t\t  //console.log(\"这是上第\",this.nowWeek,\"周\",index,\"天以后\",)\r\n\t   \t\t  this. GetTime(data2)\r\n\t\t\t  this.$refs.popup.close()\r\n\t\t\t  this.$emit('weekSelectClick',e.detail.value)\r\n\t   },\r\n\t   //计算一周日期\r\n\t  GetTime(dateValue) {\r\n\t  \tlet date;\r\n\t\tif(dateValue!=\"\"){\r\n\t\t\tdate=new  Date(dateValue)\r\n\t\t\tthis.weekvalue=0\r\n\t\t}else{\r\n\t\t\tdate = new Date();\r\n\t\t\tvar day = date.getDay();\r\n\t\t\tvar arr_week = new Array(\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\");\r\n\t\t\tthis.weekvalue=arr_week[day]\r\n\t\t}  \r\n\t  \tlet weekIndex = date.getDay();\r\n\t\tlet index=0;\r\n\t  \tlet data = [] //日\r\n\t\tlet dateDetails=[] //详细日期\r\n\t\t//得到当前月份\r\n\t\tthis.tMonth = date.getMonth()+1;\r\n\t  \t//得到当前日期以及之前的\r\n\t\tindex=weekIndex\r\n\t\tif(weekIndex==0){\r\n\t\t\tindex=7\r\n\t\t}\r\n\t\tfor (let i = index - 1; i >= 0; i--) {\r\n\t\t\tdateDetails.push(this.getWeek(-i,dateValue,1))\r\n\t\t\tif(this.getWeek(-i,dateValue)==1){\r\n\t\t\t\tdata.push(date.getMonth()+1+\"月\")\r\n\t\t\t\tthis.tMonth = date.getMonth();\r\n\t\t\t}else{\r\n\t\t\t\tdata.push(this.getWeek(-i,dateValue))\r\n\t\t\t}\r\n\t\t\t this.frontDate=i;\r\n\t\t\t //console.log(\"得到当前日期以及之前的\",this.getWeek(-i,dateValue))\r\n\t\t}\r\n\t  \t//当前日期之后的\r\n\t\tif(weekIndex!=0){\r\n\t\t\tfor (let i = 1; i <= 7 - weekIndex; i++) {\r\n\t\t\t   dateDetails.push(this.getWeek(i,dateValue,1))\r\n\t\t\t   if(this.getWeek(i,dateValue)==1){\r\n\t\t\t       data.push(date.getMonth()+2+\"月\")\r\n\t\t\t\t   this.tMonth = date.getMonth()+1;\r\n\t\t\t   }else{\r\n\t\t\t\t\tdata.push(this.getWeek(i,dateValue))\r\n\t\t\t   }\r\n\t\t\t   this.afterDate=i;\r\n\t\t\t   //console.log(\"当前日期之后的\",this.getWeek(-i,dateValue))\r\n\t\t\t}\r\n\t\t}\r\n\t  \t\r\n\t\t//赋值 一周的日期\r\n\t  \tthis.dateDetailsLi=dateDetails;\r\n\t\tthis.dateLi=data;\r\n\t },\r\n\t  //根据传的时间返回单个年 月 日\r\n\t  getWeek(day,dateValue,state) {\r\n\t\tlet today;\r\n\t\tif(dateValue!=\"\"){\r\n\t\t\ttoday=new  Date(dateValue)\r\n\t\t}else{\r\n\t\t\ttoday = new Date();\r\n\t\t}\r\n\t  \t//var today = new Date();\r\n\t  \tvar targetday_milliseconds = today.getTime() + 1000 * 60 * 60 * 24 * day;\r\n\t  \ttoday.setTime(targetday_milliseconds);\r\n\t  \tvar tYear = today.getFullYear();\r\n\t  \tvar tMonth = today.getMonth();\r\n\t  \tvar tDate = today.getDate();\r\n\t  \ttMonth = tMonth + 1;\r\n\t  \ttDate = tDate;\r\n\t\tif(state==1){\r\n\t\t\treturn  tMonth + \"/\" + tDate;\r\n\t\t}else if(state==2){\r\n\t  \t   return  tYear + \"/\" +tMonth + \"/\" + tDate;\r\n\t\t}else {\r\n\t  \t   return   tDate;\r\n\t\t}\r\n\t  \t//return  tMonth + \"/\" + tDate;\r\n\t  },\r\n\t  //查看 当前时间之前或者之后第几天的时间\r\n\t  getfun_date(num) {\r\n\t\t  \r\n\t\t  let date1;\r\n\t\t  if(this.startdDate!=\"\"){\r\n\t\t  \tdate1=new  Date(this.startdDate)\r\n\t\t  }else{\r\n\t\t  \tdate1 = new Date();\r\n\t\t  \t\r\n\t\t  } \r\n\t      //var date1 = new Date();\r\n\t      //今天时间\r\n\t      var time1 = date1.getFullYear() + \"-\" + (date1.getMonth() + 1) + \"-\" + date1.getDate()\r\n\t      var date2 = new Date(date1);\r\n\t      date2.setDate(date1.getDate() + num);\r\n\t      //num是正数表示之后的时间，num负数表示之前的时间，0表示今天\r\n\t      var time2 = date2.getFullYear() + \"-\" + (date2.getMonth() + 1) + \"-\" + date2.getDate(); \r\n\t     // console.log(time2,'当前日期');\r\n\t      return time2;\r\n\t  },\r\n\t  //日期相加减得到天数\r\n\t  getDateDays(date1){\r\n\t\t  let a1=Date.parse(new Date(date1))\r\n\t\t  let a2=Date.parse(new Date())\r\n\t\t  let day=parseInt((a2-a1)/(1000*60*60*24)) \r\n\t\t  return day;\r\n\t  }\r\n    },\r\n\twatch: {\r\n\t    //nowWeek 为接收参数的名称\r\n\t    nowWeek: {\r\n\t      handler(item,index) {\r\n\t      // console.log(item,index)\r\n\t\t   this.weekCurrent=item+1\r\n\t      },\r\n\t      deep: true // 深度监听父组件传过来对象变化\r\n\t    }\r\n\t},\r\n\t\r\n    \r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.bottom{\r\n\tbackground-color: white;\r\n\tpadding:15px 0px;\r\n\th4{\r\n\t\ttext-align: center;\r\n\t\tpadding-bottom: 10px;\r\n\t}\r\n\tborder-radius: 15px 15px 0px 0px;\r\n\t//padding: 0px 30upx;\r\n}\t\r\n\t\r\n\t\r\n\t\r\n//上一周，下一周控件\r\n.cu-bar {\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\talign-items: center;\r\n\tmin-height: 70upx;\r\n\tjustify-content: space-between;\r\n\tmargin:0px 15px ;\r\n\tfont-weight: bold;\r\n}\r\n\r\n//内容\r\n.timetable{\r\n  background: white;\r\n  border: 1px solid #E4E7ED;\r\n  border-radius: 8rpx;\r\n\r\n//日期\r\n\t.header-wrap{\r\n\t\twidth: 100%;\r\n\t\theight: 40px;\r\n\t\tmargin-bottom:6px;\r\n\t\t.left-text{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tmargin-bottom: 5px;\r\n\t\t}\r\n\t\t.month-text{\r\n\t\t\twidth: 30px;\r\n\t\t\theight: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tpadding: 6px 0px;\r\n\t\t}\r\n\t\t.week-txt{\r\n\t\t\twidth: 80%;\r\n\t\t\theight: 60%;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tfont-weight: bold;\r\n\t\t\t//background-color: aqua;\r\n\t\t\t//padding-top: 10px;\r\n\t\t\tmargin-top: 5px;\r\n\t\t\tborder-radius: 16rpx  16rpx 0px 0px;\r\n\t\t}\r\n\t\t.date-txt{\r\n\t\t\twidth: 80%;\r\n\t\t\theight: 40%;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: $uni-text-color-grey;\r\n\t\t\t//background-color: aqua;\r\n\t\t\tpadding-bottom: 5px;\r\n\t\t\tborder-radius:0px 0px 16rpx  16rpx;\r\n\t\t}\t\r\n\t\t.text-content{\r\n\t\t\theight: 100%;\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin-left: 3rpx;\r\n\t\t\t//background-color: antiquewhite;\r\n\t\t\t//margin: 10px;\r\n\t\t   // padding: 6px 0px;\r\n\t\t\t\r\n\t\t}\r\n\t\t.text-content-today{\r\n\t\t\theight: 100%;\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin-left: 3rpx;\r\n\t\t}\t\r\n\t}\r\n.main{\r\n    position: relative;\r\n\tmargin-top: 2px;\r\n    .row{\r\n      height: 80px;\r\n      position: relative;\r\n\t \r\n      &:after{\r\n        content: '';\r\n        height: 0;\r\n        width: 100%;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        border-bottom: 1rpx dashed #E4E7ED;\r\n      }\r\n\r\n      .time-item{\r\n        height: 100%;\r\n        width: 70rpx;\r\n        text-align: center;\r\n        background: #F5F7FA;\r\n\t\t//background-color: #909399;\r\n        .index{\r\n          padding-bottom: 8rpx;\r\n          padding-top: 16rpx;\r\n\t\t  font-size: 18px;\r\n        }\r\n\t\t.time{\r\n\t\t\tfont-size: 12px;\r\n\t\t\tcolor: $uni-text-color-grey;\r\n\t\t}\r\n      }\r\n}\r\n\r\n    .course-container{\r\n      position: absolute;\r\n      top: 0;\r\n      left: 75rpx;\r\n\t  width: calc(100% - 75rpx);\r\n      height: 100%;\r\n      display: flex;\r\n      //background-color: #909399;\r\n      .week{\r\n\t\t/* //控制评分法\r\n        //flex: 1;\r\n        //width: 0;\r\n        //flex-grow: 1;\r\n        //display: flex;\r\n        //flex-direction: column; */\r\n        .courseList{\r\n\t\t  width: 90rpx;\r\n          word-break: break-all;\r\n          color: white;\r\n          overflow: hidden;\r\n\t\t  font-size: 15px;\r\n          .course{\r\n            border-radius: 16rpx;\r\n            text-align: center;\r\n\t\t\tborder-style: solid;\r\n\t\t\tborder-width: 1px;\r\n\t\t\t//border-color: #909399;\r\n\t\t\t//border-color: red;\r\n\t\t\t //margin: 2px 1px;\r\n\t\t\t// margin-top: 4px;\r\n          }\r\n\t\t margin: 5px 1px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ly-curriculumtable.vue?vue&type=style&index=0&id=8752c038&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ly-curriculumtable.vue?vue&type=style&index=0&id=8752c038&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1729084571833\n      var cssReload = require(\"E:/study/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}